{"version":3,"file":"AutocompleteResultsParser.js","sourceRoot":"","sources":["../../../../src/lib/autocomplete/AutocompleteResultsParser.ts"],"names":[],"mappings":";;AACA,gDAA+C;AAE/C,MAAqB,yBAAyB;IAE5C,MAAM,CAAC,SAAS,CAAC,IAAS;QACxB,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC;YACxB,OAAO,IAAI,CAAC,GAAG,CAAkB,CAAC,OAAY,EAAE,EAAE,CAAC,CAAC;gBAClD,IAAI,EAAE,KAAK;gBACX,KAAK,EAAE,OAAO,CAAC,KAAK;gBACpB,KAAK,EAAE,OAAO,CAAC,SAAS;gBACxB,IAAI,EAAE,OAAO,CAAC,YAAY;aAC3B,CAAC,CAAC,CAAC;QACN,CAAC;QACD,MAAM,IAAI,qBAAU,CAAC,+EAA+E,EAAE,IAAI,CAAC,CAAC;IAC9G,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,IAAS;QAC7B,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE,CAAC;YACjC,MAAM,GAAG,GAAG,IAAI,CAAC,OAAqB,CAAC;YACvC,OAAO,GAAG,CAAC,GAAG,CAAuB,CAAC,YAAiB,EAAE,EAAE,CAAC,CAAC;gBAC3D,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,QAAQ,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,CAAC;gBACpC,IAAI,EAAE,YAAY,CAAC,IAAI;gBACvB,QAAQ,EAAE,YAAY,CAAC,QAAQ;aAChC,CAAC,CAAC,CAAC;QACN,CAAC;QACD,MAAM,IAAI,qBAAU,CAAC,8EAA8E,EAAE,IAAI,CAAC,CAAC;IAC7G,CAAC;CACF;AA1BD,4CA0BC","sourcesContent":["import { type AutoCompleteTag, type AutocompleteLocation } from '../types/Autocomplete.js';\nimport { ParseError } from '../utils/Parse.js';\n\nexport default class AutocompleteResultsParser {\n\n  static parseTags(json: any): AutoCompleteTag[] {\n    if (Array.isArray(json)) {\n      return json.map<AutoCompleteTag>((tagData: any) => ({\n        type: 'tag',\n        count: tagData.count,\n        value: tagData.norm_name,\n        name: tagData.display_name\n      }));\n    }\n    throw new ParseError('Failed to parse autocomplete tags: JSON invalid or missing \\'matching_tags\\'.', json);\n  }\n\n  static parseLocations(json: any): AutocompleteLocation[] {\n    if (Array.isArray(json?.results)) {\n      const arr = json.results as Array<any>;\n      return arr.map<AutocompleteLocation>((locationData: any) => ({\n        type: 'location',\n        value: parseInt(locationData.id, 10),\n        name: locationData.name,\n        fullName: locationData.fullname\n      }));\n    }\n    throw new ParseError('Failed to parse autocomplete locations: JSON invalid or missing \\'results\\'.', json);\n  }\n}\n"]}